# -*- coding: utf-8 -*-
"""Week_1_Vacuum.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1oRp-Ty0X1kqaF1VzmnjsRxiWJ7nduIAu
"""

import time

def get_bool_input(prompt):
    while True:
        val = input(prompt + " (Y/N): ").strip().upper()
        if val == 'Y':
            return True
        elif val == 'N':
            return False
        else:
            print("Please enter Y or N.")

def get_location_input(prompt):
    while True:
        val = input(prompt + " (A/B): ").strip().upper()
        if val in ['A', 'B']:
            return val
        else:
            print("Please enter A or B.")

class TwoRoomEnvironment:
    def __init__(self, dirt_status, agent_location='A'):
        self.dirt = dirt_status
        self.agent_location = agent_location

    def perceive(self):
        return self.agent_location, self.dirt[self.agent_location]

    def clean(self):
        if self.dirt[self.agent_location]:
            self.dirt[self.agent_location] = False
            print(f"Cleaned room {self.agent_location}")

    def move_left(self):
        self.agent_location = 'A'
        print("Moved Left to room A")

    def move_right(self):
        self.agent_location = 'B'
        print("Moved Right to room B")

    def all_clean(self):
        return not (self.dirt['A'] or self.dirt['B'])

    def status(self):
        print(f"Current Status: Room A: {'Dirty' if self.dirt['A'] else 'Clean'}, "
              f"Room B: {'Dirty' if self.dirt['B'] else 'Clean'}, Agent at Room {self.agent_location}")

class SimpleReflexAgentTwoRooms:
    def __init__(self, environment):
        self.env = environment

    def act(self):
        location, dirty = self.env.perceive()
        if dirty:
            print(f"Dirt detected in room {location}!")
            self.env.clean()
            return 'S'  # Clean
        else:
            if location == 'A':
                self.env.move_right()
                return 'R'
            else:
                self.env.move_left()
                return 'L'

print("Set initial conditions for the vacuum cleaning agent:")

roomA_dirty = get_bool_input("Is room A dirty?")
roomB_dirty = get_bool_input("Is room B dirty?")
agent_start = get_location_input("Where should the agent start?")

env = TwoRoomEnvironment({'A': roomA_dirty, 'B': roomB_dirty}, agent_start)
agent = SimpleReflexAgentTwoRooms(env)

print("\nStarting cleaning process...\n")
time.sleep(1)

steps = 0
while not env.all_clean():
    env.status()
    action = agent.act()
    steps += 1
    time.sleep(1)  # wait 1 second before next action

print("\nAll rooms are clean! Cleaning complete.")
print(f"Total steps taken: {steps}")
